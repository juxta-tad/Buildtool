{
  "max_tabs": 5,
  "load_direnv": "direct",
  "file_types": {
    "ini": [".buckconfig"],
    "Starlark": ["BUCK"],
    "Shell Script": [".envrc"],
  },
  "lsp": {
    "clangd": {
      "binary": {
        "arguments": ["--query-driver=**"],
      },
    },
    "buck2-lsp": {
      "binary": {
        "path": "./tools/buck2-lsp-wrapper.sh",
      },
    },
  },
  "languages": {
    "Starlark": {
      "language_servers": ["buck2-lsp", "!starpls", "!tilt"],
      "formatter": "language_server",
    },
    "C++": {
      "format_on_save": "on",
      "formatter": [
        {
          "external": {
            "command": "bash",
            "arguments": [
              "-c",
              "cat; .zed/on-save.sh {buffer_path} &>/dev/null &",
            ],
          },
        },
      ],
    },
  },
  "hidden_files": [
    "**/.*",
    "**/*.{nix,bzl,lock,h,bxl}",
    "**/{bxl,BUCK,buck-out,toolchains,result,nix}",
  ],
}
